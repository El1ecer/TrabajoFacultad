{% extends "plantilla.html" %}
{% load static %}
{% block contenido %}

<h1>AGREGAR UN NUEVO DOCENTE</h1>

<form action="/Teaching/guardarDocente/" method="post" id="frm_nuevoDocente" enctype="multipart/form-data">
    {% csrf_token %}

    <label for="first_name">Nombre:</label><br>
    <input class="form-control" type="text" name="first_name" id="first_name" placeholder="Ingrese el nombre del docente"> <br>

    <label for="last_name">Apellido:</label><br>
    <input class="form-control" type="text" name="last_name" id="last_name" placeholder="Ingrese el apellido del docente"> <br>

    <label for="age">Edad:</label><br>
    <input class="form-control" type="number" name="age" id="age" placeholder="Ingrese la edad del docente"> <br>

    <label for="email">Email:</label><br>
    <input class="form-control" type="email" name="email" id="email" placeholder="Ingrese el correo electrónico"> <br>

    <label for="carrera">Carrera:</label><br>
    <select class="form-control" name="carrera" id="carrera">
        <option value="">Seleccione una carrera</option>
        {% for car in carreras %}
            <option value="{{ car.id }}">{{ car.name_career }}</option>
        {% endfor %}
    </select><br>

    <label for="logo">Foto / Logo del docente:</label><br>
    <input class="form-control" type="file" name="logo" id="logo" accept="image/*" placeholder="Seleccione una imagen"> <br>

    <label for="pdf">Documento PDF:</label><br>
    <input class="form-control" type="file" name="pdf" id="pdf" accept="application/pdf"> <br>

    <button class="btn btn-success" type="submit">GUARDAR</button> <br><br>
    <a class="btn btn-outline-danger" href="/Teaching/">CANCELAR</a> <br><br>

</form>

<script>
    $("#frm_nuevoDocente").validate({
        rules: {
            "first_name": { required: true, minlength: 3 },
            "last_name": { required: true, minlength: 3 },
            "age": { digits: true, min: 18, max: 100 },
            "email": { required: true, email: true },
            "carrera": { required: true }
        },
        messages: {
            "first_name": { required: "Campo obligatorio", minlength: "Debe tener al menos 3 caracteres" },
            "last_name": { required: "Campo obligatorio", minlength: "Debe tener al menos 3 caracteres" },
            "age": { digits: "Debe ser un número", min: "Edad mínima 25", max: "Edad máxima 100" },
            "email": { required: "Campo obligatorio", email: "Ingrese un email valido" },
            "carrera": { required: "Seleccione una carrera" }
        }
    });

    $("#logo").fileinput({
        theme: "bootstrap5",
        language: "es",
        allowedFileExtensions: ["jpg", "jpeg", "png"],
        showUpload: false,
        dropZoneEnabled: true,
        maxFileSize: 2000,
        showPreview: true,
        browseLabel: "Seleccionar imagen",
        removeLabel: "Eliminar",
        initialCaption: "Arrastra y suelta la imagen aquí",
        showRemove: true,
        showZoom: true,
        showDrag: true
    });

    $("#pdf").fileinput({
        theme: "bootstrap5",
        language: "es",
        allowedFileExtensions: ["pdf"],
        showUpload: false,
        dropZoneEnabled: true,
        maxFileSize: 5000,
        showPreview: true,
        browseLabel: "Seleccionar PDF",
        removeLabel: "Eliminar",
        initialCaption: "Arrastra y suelta el PDF aquí",
        showRemove: true,
        showZoom: true,
        showDrag: true
    });
</script>

{% endblock %}
